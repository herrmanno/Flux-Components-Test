var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var LoginActions = (function (_super) {
    __extends(LoginActions, _super);
    function LoginActions() {
        _super.apply(this, arguments);
    }
    LoginActions.prototype.login = function (user) {
        ho.flux.DISPATCHER.dispatch({ type: CONST.LOGIN, data: user });
        var ls = localStorage['users'];
        var users = !!ls ? JSON.parse(ls) : [];
        var found = users.filter(function (u) { return u.name === user.name && u.password === user.password; });
        if (found.length === 1)
            ho.flux.DISPATCHER.dispatch({ type: CONST.LOGIN_OK, data: user });
        else
            ho.flux.DISPATCHER.dispatch({ type: CONST.LOGIN_ERR, data: user });
    };
    return LoginActions;
})(ho.flux.actions.Action);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9naW5BY3Rpb25zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiTG9naW5BY3Rpb25zLnRzIl0sIm5hbWVzIjpbIkxvZ2luQWN0aW9ucyIsIkxvZ2luQWN0aW9ucy5jb25zdHJ1Y3RvciIsIkxvZ2luQWN0aW9ucy5sb2dpbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtJQUEyQkEsZ0NBQXNCQTtJQUFqREE7UUFBMkJDLDhCQUFzQkE7SUFjakRBLENBQUNBO0lBWkFELDRCQUFLQSxHQUFMQSxVQUFNQSxJQUFxQkE7UUFDMUJFLEVBQUVBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLFFBQVFBLENBQUNBLEVBQUNBLElBQUlBLEVBQUVBLEtBQUtBLENBQUNBLEtBQUtBLEVBQUVBLElBQUlBLEVBQUNBLElBQUlBLEVBQUNBLENBQUNBLENBQUNBO1FBRTVEQSxJQUFJQSxFQUFFQSxHQUFHQSxZQUFZQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQTtRQUMvQkEsSUFBSUEsS0FBS0EsR0FBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0E7UUFDeENBLElBQUlBLEtBQUtBLEdBQUdBLEtBQUtBLENBQUNBLE1BQU1BLENBQUNBLFVBQUFBLENBQUNBLElBQUtBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBLElBQUlBLEtBQUtBLElBQUlBLENBQUNBLElBQUlBLElBQUlBLENBQUNBLENBQUNBLFFBQVFBLEtBQUtBLElBQUlBLENBQUNBLFFBQVFBLENBQUFBLENBQUFBLENBQUNBLENBQUNBLENBQUNBO1FBRTdGQSxFQUFFQSxDQUFBQSxDQUFDQSxLQUFLQSxDQUFDQSxNQUFNQSxLQUFLQSxDQUFDQSxDQUFDQTtZQUNyQkEsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsRUFBQ0EsSUFBSUEsRUFBRUEsS0FBS0EsQ0FBQ0EsUUFBUUEsRUFBRUEsSUFBSUEsRUFBQ0EsSUFBSUEsRUFBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDaEVBLElBQUlBO1lBQ0hBLEVBQUVBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLFFBQVFBLENBQUNBLEVBQUNBLElBQUlBLEVBQUVBLEtBQUtBLENBQUNBLFNBQVNBLEVBQUVBLElBQUlBLEVBQUNBLElBQUlBLEVBQUNBLENBQUNBLENBQUNBO0lBQ2xFQSxDQUFDQTtJQUNGRixtQkFBQ0E7QUFBREEsQ0FBQ0EsQUFkRCxFQUEyQixFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBY2hEIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgTG9naW5BY3Rpb25zIGV4dGVuZHMgaG8uZmx1eC5hY3Rpb25zLkFjdGlvbiB7XG5cblx0bG9naW4odXNlcjogSUxvZ2luU3RvcmVEYXRhKSB7XG5cdFx0aG8uZmx1eC5ESVNQQVRDSEVSLmRpc3BhdGNoKHt0eXBlOiBDT05TVC5MT0dJTiwgZGF0YTp1c2VyfSk7XG5cblx0XHRsZXQgbHMgPSBsb2NhbFN0b3JhZ2VbJ3VzZXJzJ107XG5cdFx0bGV0IHVzZXJzID0gICEhbHMgPyBKU09OLnBhcnNlKGxzKSA6IFtdO1xuXHRcdGxldCBmb3VuZCA9IHVzZXJzLmZpbHRlcih1ID0+IHtyZXR1cm4gdS5uYW1lID09PSB1c2VyLm5hbWUgJiYgdS5wYXNzd29yZCA9PT0gdXNlci5wYXNzd29yZH0pO1xuXG5cdFx0aWYoZm91bmQubGVuZ3RoID09PSAxKVxuXHRcdFx0aG8uZmx1eC5ESVNQQVRDSEVSLmRpc3BhdGNoKHt0eXBlOiBDT05TVC5MT0dJTl9PSywgZGF0YTp1c2VyfSk7XG5cdFx0ZWxzZVxuXHRcdFx0aG8uZmx1eC5ESVNQQVRDSEVSLmRpc3BhdGNoKHt0eXBlOiBDT05TVC5MT0dJTl9FUlIsIGRhdGE6dXNlcn0pO1xuXHR9XG59XG4iXX0=